<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CalculGEA</title>
<style>
  body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:20px; }
  h1 { text-align:center; color:#004080; }
  .card { background:#fff; padding:20px; margin:20px auto; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.2); max-width:600px; }
  label { display:block; margin-top:10px; font-weight:bold; }
  input, select { width:100%; padding:8px; margin-top:5px; border:1px solid #ccc; border-radius:5px; }
  button { margin-top:20px; width:100%; padding:12px; background:#004080; color:white; font-size:16px; border:none; border-radius:6px; cursor:pointer; }
  button:hover { background:#0066cc; }
  .result { margin-top:20px; padding:15px; background:#e9f5ff; border-left:4px solid #004080; }
</style>
</head>
<body>
  <h1>CalculGEA</h1>
  <div class="card">
    <label>Besoin en eau (L/jour)</label>
    <input id="litres" type="number" value="200">

    <label>Prix eau embouteillée (€/L)</label>
    <input id="prix" type="number" value="0.6" step="0.01">

    <label>Durée projet (années)</label>
    <input id="annees" type="number" value="10">

    <label>Alimentation solaire disponible ?</label>
    <select id="solaire">
      <option value="oui">Oui</option>
      <option value="non">Non</option>
    </select>

    <button onclick="calculer()">Calculer</button>

    <div id="resultat" class="result" style="display:none;"></div>
  </div>

<script>
function calculer() {
  const litres = parseFloat(document.getElementById("litres").value);
  const prix = parseFloat(document.getElementById("prix").value);
  const annees = parseInt(document.getElementById("annees").value);
  const solaire = document.getElementById("solaire").value;

  // Choix du modèle GENAQ simplifié
  let modele = "Stratus S50";
  if (litres > 50 && litres <= 200) modele = "Stratus S200";
  else if (litres > 200 && litres <= 500) modele = "Cumulus C500";
  else if (litres > 500) modele = "Cumulus C5000";

  // Coûts (valeurs simplifiées)
  const capex = (modele === "S50" ? 5000 : modele === "Stratus S200" ? 10000 : 20000);
  const opex = solaire === "oui" ? 500 : 1200;
  const economieAnnuelle = (litres * 365 * prix) - opex;
  const economieTotale = economieAnnuelle * annees;
  const payback = (capex / economieAnnuelle).toFixed(1);

  // Impacts
  const plastiqueEvite = (litres * 365 * 20 / 1000).toFixed(1); // 20g/L
  const co2Evite = (plastiqueEvite * 2.7).toFixed(0);

  document.getElementById("resultat").style.display = "block";
  document.getElementById("resultat").innerHTML = `
    <h3>Résultats</h3>
    <p><b>Modèle recommandé :</b> ${modele}</p>
    <p><b>CAPEX estimé :</b> ${capex.toLocaleString()} €</p>
    <p><b>Économies annuelles :</b> ${economieAnnuelle.toLocaleString()} €</p>
    <p><b>Économies sur ${annees} ans :</b> ${economieTotale.toLocaleString()} €</p>
    <p><b>Retour sur investissement :</b> ${payback} ans</p>
    <p><b>Plastique évité :</b> ${plastiqueEvite} kg/an</p>
    <p><b>CO₂ évité :</b> ${co2Evite} kg/an</p>
  `;
}
</script>
</body>
</html>
